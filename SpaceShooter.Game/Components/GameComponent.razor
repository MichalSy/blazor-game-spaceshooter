<div game class="@(_isRunning ? "active": string.Empty)">
	<div style="background: url(images/background.png); background-repeat: repeat; display: inline-block">
		<svg width="@_width" height="@_height" viewBox="0 0 @_width @_height" 
			@onmousemove="MouseMove">

			@if (_isRunning)
			{
				@foreach (var currentView in GameEnvironment.GameObjects)
				{
					if (currentView is not RenderGameObject renderGameObject)
						continue;

					<svg>
						@RenderWidget(renderGameObject)
					</svg>
				}

				<svg>
					<text x="8" y="20" fill="red">FPS: @_fpsCount</text>
					<text x="8" y="50" fill="red">Mouse/Touch: @GameEnvironment.MousePosition</text>
				</svg>

				@if (_showCollider)
				{
					foreach (var currentView in GameEnvironment.GameObjects)
					{
						if (currentView is ICollider coll && coll.IsColliderActive)
						{
							<polygon points="@coll.ColliderPolygon.ToSvgString()" fill="none" stroke="yellow" stroke-width="2" />
						}
					}
				}
			}

		</svg>
	</div>
	<div action-buttons>
		<button @onclick="StartGame" class="btn btn-primary">Start!</button>
		<button @onclick="CleanupGame" class="btn btn-primary">Stop!</button>

		<button @onclick="ToggleCollider" class="btn btn-primary">Toggle Display Collider</button>
	</div>
</div>